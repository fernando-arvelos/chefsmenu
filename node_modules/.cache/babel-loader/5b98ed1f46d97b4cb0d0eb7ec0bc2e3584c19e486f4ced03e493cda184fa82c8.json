{"ast":null,"code":"var _jsxFileName = \"/home/fernando/trybe/Git Fernando/chefsmenu/src/pages/RecipeDetails.js\",\n  _s = $RefreshSig$();\n/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link, useLocation, useParams } from 'react-router-dom/cjs/react-router-dom.min';\nimport { getMealDetails, getDrinkDetails } from '../redux/actions';\nimport DetailsCard from '../components/DetailsCard';\nimport HeaderRecipe from '../components/HeaderRecipe';\nimport Header from '../components/Header';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction RecipeDetails() {\n  _s();\n  const {\n    id\n  } = useParams();\n  const location = useLocation();\n  const currentPath = location.pathname;\n  const typeOfRecipe = currentPath.match(/\\/([^/]+)/)[1];\n  const dispatch = useDispatch();\n  const recipeDetails = useSelector(state => state.recipeDetailsReducer.recipeDetails);\n  const [ingredients, setIngredients] = useState([]);\n  const [measures, setMeasures] = useState([]);\n  const [recipeMade, setRecipeMade] = useState();\n  const [recipeInProgress, setRecipeInProgress] = useState();\n  const shareTextStatus = useSelector(state => state.recipeDetailsReducer.shareTextStatus);\n  const filterIngredientsAndMeasures = () => {\n    if (recipeDetails.length > 0) {\n      const filteredIngredients = Object.entries(recipeDetails[0]).filter(_ref => {\n        let [key, value] = _ref;\n        const isIngredient = key.includes('strIngredient');\n        const isValueValid = value !== null && value !== '';\n        return isIngredient && isValueValid;\n      }).map(_ref2 => {\n        let [, value] = _ref2;\n        return value;\n      });\n      const filterMeasures = Object.entries(recipeDetails[0]).filter(_ref3 => {\n        let [key, value] = _ref3;\n        const isMeasure = key.includes('strMeasure');\n        const isValueValid = value !== null && value !== ' ';\n        return isMeasure && isValueValid;\n      }).map(_ref4 => {\n        let [, value] = _ref4;\n        return value;\n      });\n      setIngredients(filteredIngredients);\n      setMeasures(filterMeasures);\n    }\n  };\n  useEffect(() => {\n    if (currentPath.includes('meals')) dispatch(getMealDetails(id));\n    if (currentPath.includes('drinks')) dispatch(getDrinkDetails(id));\n    const doneRecipes = JSON.parse(localStorage.getItem('doneRecipes'));\n    if (doneRecipes) {\n      const verifyDoneRecipe = doneRecipes.some(recipe => recipe.id === id);\n      setRecipeMade(verifyDoneRecipe);\n    }\n    const inProgressRecipes = JSON.parse(localStorage.getItem('inProgressRecipes'));\n    if (inProgressRecipes) {\n      const idsInProgress = Object.keys(inProgressRecipes[typeOfRecipe]);\n      const verifyIdsInProgress = idsInProgress.some(inProgressId => id === inProgressId);\n      setRecipeInProgress(verifyIdsInProgress);\n    }\n  }, []);\n  useEffect(() => {\n    filterIngredientsAndMeasures();\n  }, [recipeDetails]);\n  return /*#__PURE__*/_jsxDEV(\"main\", {\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      children: /*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(HeaderRecipe, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), recipeDetails.length > 0 && /*#__PURE__*/_jsxDEV(DetailsCard, {\n        recipeImg: currentPath.includes('meals') ? recipeDetails[0].strMealThumb : recipeDetails[0].strDrinkThumb,\n        recipeTitle: currentPath.includes('meals') ? recipeDetails[0].strMeal : recipeDetails[0].strDrink,\n        recipeCategory: currentPath.includes('meals') ? recipeDetails[0].strCategory : recipeDetails[0].strAlcoholic,\n        recipeIngredients: ingredients,\n        recipeMeasures: measures,\n        recipeInstructions: recipeDetails[0].strInstructions,\n        recipeVideo: currentPath.includes('meals') ? recipeDetails[0].strYoutube : ''\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 10\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-center\",\n        children: !recipeMade && /*#__PURE__*/_jsxDEV(Link, {\n          to: currentPath.includes('/meals') ? `/meals/${id}/in-progress` : `/drinks/${id}/in-progress`,\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            \"data-testid\": \"start-recipe-btn\",\n            className: \"button-RecipeDetails\",\n            children: recipeInProgress ? 'Continue Recipe' : 'Start Recipe'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), shareTextStatus && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Link copied!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n}\n_s(RecipeDetails, \"NcelBGN0SJxStpfjYaRShn9cFPg=\", false, function () {\n  return [useParams, useLocation, useDispatch, useSelector, useSelector];\n});\n_c = RecipeDetails;\nexport default RecipeDetails;\nvar _c;\n$RefreshReg$(_c, \"RecipeDetails\");","map":{"version":3,"names":["React","useEffect","useState","useDispatch","useSelector","Link","useLocation","useParams","getMealDetails","getDrinkDetails","DetailsCard","HeaderRecipe","Header","RecipeDetails","id","location","currentPath","pathname","typeOfRecipe","match","dispatch","recipeDetails","state","recipeDetailsReducer","ingredients","setIngredients","measures","setMeasures","recipeMade","setRecipeMade","recipeInProgress","setRecipeInProgress","shareTextStatus","filterIngredientsAndMeasures","length","filteredIngredients","Object","entries","filter","key","value","isIngredient","includes","isValueValid","map","filterMeasures","isMeasure","doneRecipes","JSON","parse","localStorage","getItem","verifyDoneRecipe","some","recipe","inProgressRecipes","idsInProgress","keys","verifyIdsInProgress","inProgressId","strMealThumb","strDrinkThumb","strMeal","strDrink","strCategory","strAlcoholic","strInstructions","strYoutube"],"sources":["/home/fernando/trybe/Git Fernando/chefsmenu/src/pages/RecipeDetails.js"],"sourcesContent":["/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link, useLocation, useParams } from 'react-router-dom/cjs/react-router-dom.min';\nimport { getMealDetails, getDrinkDetails } from '../redux/actions';\nimport DetailsCard from '../components/DetailsCard';\nimport HeaderRecipe from '../components/HeaderRecipe';\nimport Header from '../components/Header';\n\nfunction RecipeDetails() {\n  const { id } = useParams();\n  const location = useLocation();\n  const currentPath = location.pathname;\n  const typeOfRecipe = currentPath.match(/\\/([^/]+)/)[1];\n  const dispatch = useDispatch();\n  const recipeDetails = useSelector((state) => state.recipeDetailsReducer.recipeDetails);\n  const [ingredients, setIngredients] = useState([]);\n  const [measures, setMeasures] = useState([]);\n  const [recipeMade, setRecipeMade] = useState();\n  const [recipeInProgress, setRecipeInProgress] = useState();\n  const shareTextStatus = useSelector(\n    (state) => state.recipeDetailsReducer.shareTextStatus,\n  );\n  const filterIngredientsAndMeasures = () => {\n    if (recipeDetails.length > 0) {\n      const filteredIngredients = Object.entries(recipeDetails[0]).filter(\n        ([key, value]) => {\n          const isIngredient = key.includes('strIngredient');\n          const isValueValid = value !== null && value !== '';\n          return isIngredient && isValueValid;\n        },\n      ).map(([, value]) => value);\n      const filterMeasures = Object.entries(recipeDetails[0]).filter(\n        ([key, value]) => {\n          const isMeasure = key.includes('strMeasure');\n          const isValueValid = value !== null && value !== ' ';\n          return isMeasure && isValueValid;\n        },\n      ).map(([, value]) => value);\n      setIngredients(filteredIngredients);\n      setMeasures(filterMeasures);\n    }\n  };\n  useEffect(() => {\n    if (currentPath.includes('meals')) dispatch(getMealDetails(id));\n    if (currentPath.includes('drinks')) dispatch(getDrinkDetails(id));\n    const doneRecipes = JSON.parse(localStorage.getItem('doneRecipes'));\n    if (doneRecipes) {\n      const verifyDoneRecipe = doneRecipes.some((recipe) => recipe.id === id);\n      setRecipeMade(verifyDoneRecipe);\n    }\n    const inProgressRecipes = JSON.parse(localStorage.getItem('inProgressRecipes'));\n    if (inProgressRecipes) {\n      const idsInProgress = Object.keys(inProgressRecipes[typeOfRecipe]);\n      const verifyIdsInProgress = idsInProgress.some(\n        (inProgressId) => id === inProgressId,\n      );\n      setRecipeInProgress(verifyIdsInProgress);\n    }\n  }, []);\n  useEffect(() => {\n    filterIngredientsAndMeasures();\n  }, [recipeDetails]);\n\n  return (\n    <main>\n      <header>\n        <Header />\n      </header>\n      <div>\n        <HeaderRecipe />\n        {recipeDetails.length > 0\n      && <DetailsCard\n        recipeImg={ currentPath.includes('meals')\n          ? recipeDetails[0].strMealThumb : recipeDetails[0].strDrinkThumb }\n        recipeTitle={ currentPath.includes('meals')\n          ? recipeDetails[0].strMeal : recipeDetails[0].strDrink }\n        recipeCategory={ currentPath.includes('meals')\n          ? recipeDetails[0].strCategory : recipeDetails[0].strAlcoholic }\n        recipeIngredients={ ingredients }\n        recipeMeasures={ measures }\n        recipeInstructions={ recipeDetails[0].strInstructions }\n        recipeVideo={ currentPath.includes('meals') ? recipeDetails[0].strYoutube : '' }\n      />}\n\n        <div className=\"flex justify-center\">\n          { !recipeMade\n      && (\n        <Link\n          to={\n            currentPath.includes('/meals')\n              ? `/meals/${id}/in-progress`\n              : `/drinks/${id}/in-progress`\n          }\n        >\n          <button\n            data-testid=\"start-recipe-btn\"\n            className=\"button-RecipeDetails\"\n          >\n            {recipeInProgress\n              ? 'Continue Recipe'\n              : 'Start Recipe'}\n          </button>\n        </Link>\n      )}\n        </div>\n        { shareTextStatus && (\n          <p>Link copied!</p>\n        )}\n      </div>\n    </main>\n  );\n}\nexport default RecipeDetails;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}