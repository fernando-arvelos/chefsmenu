{"ast":null,"code":"/* eslint-disable react-hooks/exhaustive-deps */import React,{useEffect}from'react';import{useLocation}from'react-router-dom';import{useDispatch,useSelector}from'react-redux';import{getDrinkRecipes,getMealRecipes}from'../redux/actions';import RecommendationsCard from'./RecommendationsCard';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function DetailsCard(_ref){var recipeImg=_ref.recipeImg,recipeTitle=_ref.recipeTitle,recipeCategory=_ref.recipeCategory,recipeIngredients=_ref.recipeIngredients,recipeMeasures=_ref.recipeMeasures,recipeInstructions=_ref.recipeInstructions,recipeVideo=_ref.recipeVideo;var location=useLocation();var currentPath=location.pathname;var dispatch=useDispatch();var meals=useSelector(function(state){return state.recipesReducer.meals;});var drinks=useSelector(function(state){return state.recipesReducer.drinks;});useEffect(function(){if(currentPath.includes('meals'))dispatch(getDrinkRecipes());if(currentPath.includes('drinks'))dispatch(getMealRecipes());},[]);var embedId=function embedId(){if(recipeVideo){var urlParams=new URLSearchParams(new URL(recipeVideo).search);var videoId=urlParams.get('v');return videoId;}};return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col justify-center items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 z-[-1] bg-black bg-opacity-50\"}),/*#__PURE__*/_jsx(\"img\",{\"data-testid\":\"recipe-photo\",src:recipeImg,alt:recipeTitle,className:\"w-screen z-[-2] mt-[-9.25rem] md:mt-[-25.625rem]\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"divtitle-details\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"h1-details\",children:recipeTitle}),/*#__PURE__*/_jsx(\"h1\",{className:\"h1-details\",children:recipeCategory})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col mx-3\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"h2-details\",children:\"Ingredient\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col mt-2 bg-white rounded-md border border-zinc\",children:/*#__PURE__*/_jsx(\"ul\",{className:\"my-4 mx-9 list-disc text-gray\",children:recipeIngredients.map(function(ingredient,index){return/*#__PURE__*/_jsx(\"li\",{\"data-testid\":\"\".concat(index,\"-ingredient-name-and-measure\"),children:\"\".concat(ingredient,\" - \").concat(recipeMeasures[index])},ingredient);})})}),/*#__PURE__*/_jsx(\"h2\",{className:\"h2-details\",children:\"Instructions\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col mt-2 bg-white rounded-md border border-zinc\",children:/*#__PURE__*/_jsx(\"p\",{className:\"p-details\",children:recipeInstructions})}),/*#__PURE__*/_jsx(\"h2\",{className:\"h2-details\",children:\"Video\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col items-center\",children:currentPath.includes('meals')&&/*#__PURE__*/_jsx(\"iframe\",{width:\"336\",height:\"234\",src:\"https://www.youtube.com/embed/\".concat(embedId()),allow:\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope\",allowFullScreen:true,title:\"Embedded youtube\",\"data-testid\":\"video\",className:\"bg-black bg-opacity-30 w-full\"})}),/*#__PURE__*/_jsx(\"h2\",{className:\"h2-details\",children:\"Recommended\"}),/*#__PURE__*/_jsx(RecommendationsCard,{recipes:currentPath.includes('meals')?drinks:meals})]})})]});}export default DetailsCard;","map":{"version":3,"names":["React","useEffect","useLocation","useDispatch","useSelector","getDrinkRecipes","getMealRecipes","RecommendationsCard","DetailsCard","recipeImg","recipeTitle","recipeCategory","recipeIngredients","recipeMeasures","recipeInstructions","recipeVideo","location","currentPath","pathname","dispatch","meals","state","recipesReducer","drinks","includes","embedId","urlParams","URLSearchParams","URL","search","videoId","get","map","ingredient","index"],"sources":["/home/fernando/trybe/Git Fernando/chefsmenu/src/components/DetailsCard.js"],"sourcesContent":["/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { useLocation } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getDrinkRecipes, getMealRecipes } from '../redux/actions';\nimport RecommendationsCard from './RecommendationsCard';\n\nfunction DetailsCard({\n  recipeImg,\n  recipeTitle,\n  recipeCategory,\n  recipeIngredients,\n  recipeMeasures,\n  recipeInstructions,\n  recipeVideo,\n}) {\n  const location = useLocation();\n  const currentPath = location.pathname;\n  const dispatch = useDispatch();\n  const meals = useSelector((state) => state.recipesReducer.meals);\n  const drinks = useSelector((state) => state.recipesReducer.drinks);\n\n  useEffect(() => {\n    if (currentPath.includes('meals')) dispatch(getDrinkRecipes());\n    if (currentPath.includes('drinks')) dispatch(getMealRecipes());\n  }, []);\n\n  const embedId = () => {\n    if (recipeVideo) {\n      const urlParams = new URLSearchParams(new URL(recipeVideo).search);\n      const videoId = urlParams.get('v');\n      return videoId;\n    }\n  };\n\n  return (\n    <div className=\"flex flex-col\">\n      <div className=\"flex flex-col justify-center items-center\">\n        <div className=\"absolute inset-0 z-[-1] bg-black bg-opacity-50\" />\n        <img\n          data-testid=\"recipe-photo\"\n          src={ recipeImg }\n          alt={ recipeTitle }\n          className=\"w-screen z-[-2] mt-[-9.25rem] md:mt-[-25.625rem]\"\n        />\n      </div>\n      <div className=\"divtitle-details\">\n        <h1 className=\"h1-details\">{recipeTitle}</h1>\n        <h1 className=\"h1-details\">{recipeCategory}</h1>\n      </div>\n\n      <div className=\"bg-white\">\n        <div className=\"flex flex-col mx-3\">\n          <h2 className=\"h2-details\">Ingredient</h2>\n\n          <div className=\"flex flex-col mt-2 bg-white rounded-md border border-zinc\">\n            <ul className=\"my-4 mx-9 list-disc text-gray\">\n              {recipeIngredients.map((ingredient, index) => (\n                <li\n                  key={ ingredient }\n                  data-testid={ `${index}-ingredient-name-and-measure` }\n                >\n                  {`${ingredient} - ${recipeMeasures[index]}`}\n                </li>\n              ))}\n            </ul>\n          </div>\n\n          <h2 className=\"h2-details\">Instructions</h2>\n          <div className=\"flex flex-col mt-2 bg-white rounded-md border border-zinc\">\n            <p className=\"p-details\">\n              {recipeInstructions}\n            </p>\n          </div>\n\n          <h2 className=\"h2-details\">Video</h2>\n          <div className=\"flex flex-col items-center\">\n            {currentPath.includes('meals') && (\n              <iframe\n                width=\"336\"\n                height=\"234\"\n                src={ `https://www.youtube.com/embed/${embedId()}` }\n                allow=\"accelerometer;\n                  autoplay; clipboard-write; encrypted-media; gyroscope\"\n                allowFullScreen\n                title=\"Embedded youtube\"\n                data-testid=\"video\"\n                className=\"bg-black bg-opacity-30 w-full\"\n              />\n            )}\n          </div>\n\n          <h2 className=\"h2-details\">Recommended</h2>\n          <RecommendationsCard\n            recipes={ currentPath.includes('meals') ? drinks : meals }\n          />\n        </div>\n      </div>\n    </div>\n  );\n}\n\nDetailsCard.propTypes = {\n  recipeImg: PropTypes.string.isRequired,\n  recipeTitle: PropTypes.string.isRequired,\n  recipeCategory: PropTypes.string.isRequired,\n  recipeIngredients: PropTypes.arrayOf(PropTypes.string).isRequired,\n  recipeMeasures: PropTypes.arrayOf(PropTypes.string).isRequired,\n  recipeInstructions: PropTypes.string.isRequired,\n  recipeVideo: PropTypes.string.isRequired,\n};\n\nexport default DetailsCard;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}