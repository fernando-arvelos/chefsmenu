{"ast":null,"code":"import _toConsumableArray from\"/home/fernando/trybe/Git Fernando/chefsmenu/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/home/fernando/trybe/Git Fernando/chefsmenu/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";/* eslint-disable react-hooks/exhaustive-deps */import React,{useEffect,useState}from'react';import{useLocation,useParams}from'react-router-dom/cjs/react-router-dom.min';import copy from'clipboard-copy';import{useDispatch,useSelector}from'react-redux';import shareIcon from'../images/shareIcon.svg';import whiteHeartIcon from'../images/whiteHeartIcon.svg';import blackHeartIcon from'../images/blackHeartIcon.svg';import{setShareTextStatus}from'../redux/actions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function HeaderRecipe(){var dispatch=useDispatch();var _useParams=useParams(),id=_useParams.id;var location=useLocation();var currentPath=location.pathname;var recipeDetails=useSelector(function(state){return state.recipeDetailsReducer.recipeDetails;});var typeOfRecipe=currentPath.match(/\\/([^/]+)/)[1].replace(/s$/,'');var localStorageFavorites=localStorage.getItem('favoriteRecipes');var favoriteRecipes=localStorageFavorites?JSON.parse(localStorageFavorites):[];var shareTextStatus=useSelector(function(state){return state.recipeDetailsReducer.shareTextStatus;});var _useState=useState(favoriteRecipes.some(function(favorite){return favorite.id===id;})),_useState2=_slicedToArray(_useState,2),isFavorite=_useState2[0],setIsFavorite=_useState2[1];useEffect(function(){var timer;var displayTime=5000;if(shareTextStatus){timer=setInterval(function(){dispatch(setShareTextStatus(false));},displayTime);}return function(){clearInterval(timer);};},[shareTextStatus]);var handleShare=function handleShare(){var url=window.location.href;copy(url);dispatch(setShareTextStatus(true));};var handleFavorite=function handleFavorite(){if(isFavorite){setIsFavorite(false);var filterFavorite=favoriteRecipes.filter(function(favorite){return favorite.id!==id;});localStorage.setItem('favoriteRecipes',JSON.stringify(filterFavorite));}else{setIsFavorite(true);var newFavorite={id:id,type:typeOfRecipe,nationality:recipeDetails[0].strArea||'',category:recipeDetails[0].strCategory||'',alcoholicOrNot:recipeDetails[0].strAlcoholic||'',name:recipeDetails[0].strMeal||recipeDetails[0].strDrink,image:recipeDetails[0].strMealThumb||recipeDetails[0].strDrinkThumb};var newFavorites=[].concat(_toConsumableArray(favoriteRecipes),[newFavorite]);localStorage.setItem('favoriteRecipes',JSON.stringify(newFavorites));}};return/*#__PURE__*/_jsxs(\"main\",{className:\"main-header-recipe\",children:[recipeDetails[0]&&/*#__PURE__*/_jsx(\"div\",{className:\"ml-8 md:ml-16\",children:/*#__PURE__*/_jsx(\"p\",{className:\"p-header-recipe\",children:recipeDetails[0].strCategory})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleShare,children:/*#__PURE__*/_jsx(\"img\",{src:shareIcon,alt:\"share\",\"data-testid\":\"share-btn\",className:\"w-7 md:w-9\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:handleFavorite,className:\"mr-8 md:mr-16 ml-3\",children:/*#__PURE__*/_jsx(\"img\",{src:isFavorite?blackHeartIcon:whiteHeartIcon,alt:isFavorite?'liked':'like',\"data-testid\":\"favorite-btn\",className:\"w-7 md:w-9\"})})]})]});}export default HeaderRecipe;","map":{"version":3,"names":["React","useEffect","useState","useLocation","useParams","copy","useDispatch","useSelector","shareIcon","whiteHeartIcon","blackHeartIcon","setShareTextStatus","HeaderRecipe","dispatch","id","location","currentPath","pathname","recipeDetails","state","recipeDetailsReducer","typeOfRecipe","match","replace","localStorageFavorites","localStorage","getItem","favoriteRecipes","JSON","parse","shareTextStatus","some","favorite","isFavorite","setIsFavorite","timer","displayTime","setInterval","clearInterval","handleShare","url","window","href","handleFavorite","filterFavorite","filter","setItem","stringify","newFavorite","type","nationality","strArea","category","strCategory","alcoholicOrNot","strAlcoholic","name","strMeal","strDrink","image","strMealThumb","strDrinkThumb","newFavorites"],"sources":["/home/fernando/trybe/Git Fernando/chefsmenu/src/components/HeaderRecipe.js"],"sourcesContent":["/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useEffect, useState } from 'react';\nimport { useLocation, useParams } from 'react-router-dom/cjs/react-router-dom.min';\nimport copy from 'clipboard-copy';\n\nimport { useDispatch, useSelector } from 'react-redux';\nimport shareIcon from '../images/shareIcon.svg';\nimport whiteHeartIcon from '../images/whiteHeartIcon.svg';\nimport blackHeartIcon from '../images/blackHeartIcon.svg';\nimport { setShareTextStatus } from '../redux/actions';\n\nfunction HeaderRecipe() {\n  const dispatch = useDispatch();\n  const { id } = useParams();\n  const location = useLocation();\n  const currentPath = location.pathname;\n  const recipeDetails = useSelector((state) => state.recipeDetailsReducer.recipeDetails);\n  const typeOfRecipe = currentPath.match(/\\/([^/]+)/)[1].replace(/s$/, '');\n  const localStorageFavorites = localStorage.getItem('favoriteRecipes');\n  const favoriteRecipes = localStorageFavorites ? JSON.parse(localStorageFavorites) : [];\n  const shareTextStatus = useSelector(\n    (state) => state.recipeDetailsReducer.shareTextStatus,\n  );\n  const [isFavorite, setIsFavorite] = useState(favoriteRecipes.some((\n    favorite,\n  ) => favorite.id === id));\n\n  useEffect(() => {\n    let timer;\n\n    const displayTime = 5000;\n    if (shareTextStatus) {\n      timer = setInterval(() => {\n        dispatch(setShareTextStatus(false));\n      }, displayTime);\n    }\n\n    return () => {\n      clearInterval(timer);\n    };\n  }, [shareTextStatus]);\n\n  const handleShare = () => {\n    const url = window.location.href;\n    copy(url);\n    dispatch(setShareTextStatus(true));\n  };\n\n  const handleFavorite = () => {\n    if (isFavorite) {\n      setIsFavorite(false);\n      const filterFavorite = favoriteRecipes.filter((favorite) => favorite.id !== id);\n      localStorage.setItem('favoriteRecipes', JSON.stringify(filterFavorite));\n    } else {\n      setIsFavorite(true);\n      const newFavorite = {\n        id,\n        type: typeOfRecipe,\n        nationality: recipeDetails[0].strArea || '',\n        category: recipeDetails[0].strCategory || '',\n        alcoholicOrNot: recipeDetails[0].strAlcoholic || '',\n        name: recipeDetails[0].strMeal || recipeDetails[0].strDrink,\n        image: recipeDetails[0].strMealThumb || recipeDetails[0].strDrinkThumb,\n      };\n      const newFavorites = [...favoriteRecipes, newFavorite];\n      localStorage.setItem('favoriteRecipes', JSON.stringify(newFavorites));\n    }\n  };\n\n  return (\n    <main className=\"main-header-recipe\">\n      { recipeDetails[0]\n      && (\n        <div className=\"ml-8 md:ml-16\">\n          <p\n            className=\"p-header-recipe\"\n          >\n            { recipeDetails[0].strCategory }\n          </p>\n        </div>\n      )}\n      <div>\n        <button onClick={ handleShare }>\n          <img\n            src={ shareIcon }\n            alt=\"share\"\n            data-testid=\"share-btn\"\n            className=\"w-7 md:w-9\"\n          />\n        </button>\n        <button\n          onClick={ handleFavorite }\n          className=\"mr-8 md:mr-16 ml-3\"\n        >\n          <img\n            src={ isFavorite ? blackHeartIcon : whiteHeartIcon }\n            alt={ isFavorite ? 'liked' : 'like' }\n            data-testid=\"favorite-btn\"\n            className=\"w-7 md:w-9\"\n          />\n        </button>\n      </div>\n    </main>\n  );\n}\n\nexport default HeaderRecipe;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}