{"ast":null,"code":"var _jsxFileName = \"/home/fernando/trybe/Git Fernando/chefsmenu/src/components/SearchBar.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useLocation, useHistory } from 'react-router-dom/cjs/react-router-dom.min';\nimport { useDispatch } from 'react-redux';\nimport { fetchMealsByIngredients, fetchMealsByName, fetchMealsByFirstLetter, fetchDrinksByIngredients, fetchDrinksByName, fetchDrinksByFirstLetter } from '../services/Api';\nimport { fetchFilteredMealsSuccessful, fetchFilteredDrinksSuccessful, changeFilterStatus } from '../redux/actions';\nimport '../index.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction SearchBar() {\n  _s();\n  const location = useLocation();\n  const [radioOption, setRadioOption] = useState('');\n  const [filterInput, setFilterInput] = useState('');\n  const [myLocation] = useState(location.pathname);\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const mealHandleChange = async () => {\n    let apiResponse;\n    switch (radioOption) {\n      case 'ingredient':\n        apiResponse = await fetchMealsByIngredients(filterInput);\n        break;\n      case 'name':\n        apiResponse = await fetchMealsByName(filterInput);\n        break;\n      case 'firstLetter':\n        apiResponse = await fetchMealsByFirstLetter(filterInput);\n        break;\n      default:\n    }\n    try {\n      if (apiResponse.length === 1) {\n        const {\n          idMeal\n        } = apiResponse[0];\n        history.push(`/meals/${idMeal}`);\n      } else {\n        dispatch(changeFilterStatus(true));\n        dispatch(fetchFilteredMealsSuccessful(apiResponse));\n      }\n    } catch (error) {\n      global.alert('Sorry, we haven\\'t found any recipes for these filters.');\n    }\n  };\n  const drinkHandleChange = async () => {\n    let apiResponse;\n    switch (radioOption) {\n      case 'ingredient':\n        apiResponse = await fetchDrinksByIngredients(filterInput);\n        break;\n      case 'name':\n        apiResponse = await fetchDrinksByName(filterInput);\n        break;\n      case 'firstLetter':\n        apiResponse = await fetchDrinksByFirstLetter(filterInput);\n        break;\n      default:\n    }\n    try {\n      if (apiResponse.length === 1) {\n        const {\n          idDrink\n        } = apiResponse[0];\n        history.push(`/drinks/${idDrink}`);\n      } else {\n        dispatch(changeFilterStatus(true));\n        dispatch(fetchFilteredDrinksSuccessful(apiResponse));\n      }\n    } catch (error) {\n      global.alert('Sorry, we haven\\'t found any recipes for these filters.');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"flex justify-center\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container-search\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        \"data-testid\": \"search-input\",\n        type: \"text\",\n        placeholder: \"Search recipes\",\n        value: filterInput,\n        onChange: _ref => {\n          let {\n            target\n          } = _ref;\n          return setFilterInput(target.value);\n        },\n        className: \"search-input\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center h-[68px]\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"Ingredient\",\n          className: \"label\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"Ingredient\",\n            type: \"radio\",\n            name: \"radioFilter\",\n            value: \"ingredient\",\n            \"data-testid\": \"ingredient-search-radio\",\n            onChange: _ref2 => {\n              let {\n                target\n              } = _ref2;\n              return setRadioOption(target.value);\n            },\n            className: \"mr-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 13\n          }, this), \"Ingredient\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"Name\",\n          className: \"label\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"Name\",\n            type: \"radio\",\n            name: \"radioFilter\",\n            value: \"name\",\n            \"data-testid\": \"name-search-radio\",\n            onChange: _ref3 => {\n              let {\n                target\n              } = _ref3;\n              return setRadioOption(target.value);\n            },\n            className: \"mr-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 13\n          }, this), \"Name\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"firstLetter\",\n          className: \"text-white\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"firstLetter\",\n            type: \"radio\",\n            name: \"radioFilter\",\n            value: \"firstLetter\",\n            \"data-testid\": \"first-letter-search-radio\",\n            onChange: _ref4 => {\n              let {\n                target\n              } = _ref4;\n              return setRadioOption(target.value);\n            },\n            className: \"mr-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 13\n          }, this), \"First letter\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        \"data-testid\": \"exec-search-btn\",\n        onClick: myLocation === '/drinks' ? drinkHandleChange : mealHandleChange,\n        className: \"btn-search bg-yellow \",\n        children: \"Search\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 5\n  }, this);\n}\n_s(SearchBar, \"LYQl+YiPmeWnPT3K77W5c/hN8DM=\", false, function () {\n  return [useLocation, useHistory, useDispatch];\n});\n_c = SearchBar;\nexport default SearchBar;\nvar _c;\n$RefreshReg$(_c, \"SearchBar\");","map":{"version":3,"names":["React","useState","useLocation","useHistory","useDispatch","fetchMealsByIngredients","fetchMealsByName","fetchMealsByFirstLetter","fetchDrinksByIngredients","fetchDrinksByName","fetchDrinksByFirstLetter","fetchFilteredMealsSuccessful","fetchFilteredDrinksSuccessful","changeFilterStatus","SearchBar","location","radioOption","setRadioOption","filterInput","setFilterInput","myLocation","pathname","history","dispatch","mealHandleChange","apiResponse","length","idMeal","push","error","global","alert","drinkHandleChange","idDrink","target","value"],"sources":["/home/fernando/trybe/Git Fernando/chefsmenu/src/components/SearchBar.jsx"],"sourcesContent":["import React, { useState,\n} from 'react';\nimport { useLocation, useHistory } from 'react-router-dom/cjs/react-router-dom.min';\nimport { useDispatch } from 'react-redux';\nimport { fetchMealsByIngredients, fetchMealsByName,\n  fetchMealsByFirstLetter, fetchDrinksByIngredients,\n  fetchDrinksByName, fetchDrinksByFirstLetter } from '../services/Api';\nimport { fetchFilteredMealsSuccessful,\n  fetchFilteredDrinksSuccessful,\n  changeFilterStatus } from '../redux/actions';\nimport '../index.css';\n\nfunction SearchBar() {\n  const location = useLocation();\n  const [radioOption, setRadioOption] = useState('');\n  const [filterInput, setFilterInput] = useState('');\n  const [myLocation] = useState(location.pathname);\n  const history = useHistory();\n  const dispatch = useDispatch();\n\n  const mealHandleChange = async () => {\n    let apiResponse;\n    switch (radioOption) {\n    case 'ingredient':\n      apiResponse = await fetchMealsByIngredients(filterInput);\n      break;\n    case 'name':\n      apiResponse = await fetchMealsByName(filterInput);\n      break;\n    case 'firstLetter':\n      apiResponse = await fetchMealsByFirstLetter(filterInput);\n      break;\n    default:\n    }\n    try {\n      if (apiResponse.length === 1) {\n        const { idMeal } = apiResponse[0];\n        history.push(`/meals/${idMeal}`);\n      } else {\n        dispatch(changeFilterStatus(true));\n        dispatch(fetchFilteredMealsSuccessful(apiResponse));\n      }\n    } catch (error) {\n      global.alert('Sorry, we haven\\'t found any recipes for these filters.');\n    }\n  };\n\n  const drinkHandleChange = async () => {\n    let apiResponse;\n    switch (radioOption) {\n    case 'ingredient':\n      apiResponse = await fetchDrinksByIngredients(filterInput);\n      break;\n    case 'name':\n      apiResponse = await fetchDrinksByName(filterInput);\n      break;\n    case 'firstLetter':\n      apiResponse = await fetchDrinksByFirstLetter(filterInput);\n      break;\n    default:\n    }\n    try {\n      if (apiResponse.length === 1) {\n        const { idDrink } = apiResponse[0];\n        history.push(`/drinks/${idDrink}`);\n      } else {\n        dispatch(changeFilterStatus(true));\n        dispatch(fetchFilteredDrinksSuccessful(apiResponse));\n      }\n    } catch (error) {\n      global.alert('Sorry, we haven\\'t found any recipes for these filters.');\n    }\n  };\n\n  return (\n    <section className=\"flex justify-center\">\n\n      <div className=\"container-search\">\n        <input\n          data-testid=\"search-input\"\n          type=\"text\"\n          placeholder=\"Search recipes\"\n          value={ filterInput }\n          onChange={ ({ target }) => setFilterInput(target.value) }\n          className=\"search-input\"\n        />\n\n        <div className=\"flex items-center h-[68px]\">\n          <label\n            htmlFor=\"Ingredient\"\n            className=\"label\"\n          >\n            <input\n              id=\"Ingredient\"\n              type=\"radio\"\n              name=\"radioFilter\"\n              value=\"ingredient\"\n              data-testid=\"ingredient-search-radio\"\n              onChange={ ({ target }) => setRadioOption(target.value) }\n              className=\"mr-1\"\n            />\n            Ingredient\n          </label>\n\n          <label\n            htmlFor=\"Name\"\n            className=\"label\"\n          >\n            <input\n              id=\"Name\"\n              type=\"radio\"\n              name=\"radioFilter\"\n              value=\"name\"\n              data-testid=\"name-search-radio\"\n              onChange={ ({ target }) => setRadioOption(target.value) }\n              className=\"mr-1\"\n            />\n            Name\n          </label>\n\n          <label\n            htmlFor=\"firstLetter\"\n            className=\"text-white\"\n          >\n            <input\n              id=\"firstLetter\"\n              type=\"radio\"\n              name=\"radioFilter\"\n              value=\"firstLetter\"\n              data-testid=\"first-letter-search-radio\"\n              onChange={ ({ target }) => setRadioOption(target.value) }\n              className=\"mr-1\"\n            />\n            First letter\n          </label>\n        </div>\n\n        <button\n          type=\"button\"\n          data-testid=\"exec-search-btn\"\n          onClick={ myLocation === '/drinks' ? drinkHandleChange : mealHandleChange }\n          className=\"btn-search bg-yellow \"\n        >\n          Search\n        </button>\n      </div>\n    </section>\n  );\n}\n\nexport default SearchBar;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}