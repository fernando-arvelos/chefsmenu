{"ast":null,"code":"var _jsxFileName = \"/home/fernando/trybe/Git Fernando/chefsmenu/src/components/HeaderRecipe.js\",\n  _s = $RefreshSig$();\n/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useEffect, useState } from 'react';\nimport { useLocation, useParams } from 'react-router-dom/cjs/react-router-dom.min';\nimport copy from 'clipboard-copy';\nimport { useDispatch, useSelector } from 'react-redux';\nimport shareIcon from '../images/shareIcon.svg';\nimport whiteHeartIcon from '../images/whiteHeartIcon.svg';\nimport blackHeartIcon from '../images/blackHeartIcon.svg';\nimport { setShareTextStatus } from '../redux/actions';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction HeaderRecipe() {\n  _s();\n  const dispatch = useDispatch();\n  const {\n    id\n  } = useParams();\n  const location = useLocation();\n  const currentPath = location.pathname;\n  const recipeDetails = useSelector(state => state.recipeDetailsReducer.recipeDetails);\n  const typeOfRecipe = currentPath.match(/\\/([^/]+)/)[1].replace(/s$/, '');\n  const localStorageFavorites = localStorage.getItem('favoriteRecipes');\n  const favoriteRecipes = localStorageFavorites ? JSON.parse(localStorageFavorites) : [];\n  const shareTextStatus = useSelector(state => state.recipeDetailsReducer.shareTextStatus);\n  const [isFavorite, setIsFavorite] = useState(favoriteRecipes.some(favorite => favorite.id === id));\n  useEffect(() => {\n    let timer;\n    const displayTime = 5000;\n    if (shareTextStatus) {\n      timer = setInterval(() => {\n        dispatch(setShareTextStatus(false));\n      }, displayTime);\n    }\n    return () => {\n      clearInterval(timer);\n    };\n  }, [shareTextStatus]);\n  const handleShare = () => {\n    const url = window.location.href;\n    copy(url);\n    dispatch(setShareTextStatus(true));\n  };\n  const handleFavorite = () => {\n    if (isFavorite) {\n      setIsFavorite(false);\n      const filterFavorite = favoriteRecipes.filter(favorite => favorite.id !== id);\n      localStorage.setItem('favoriteRecipes', JSON.stringify(filterFavorite));\n    } else {\n      setIsFavorite(true);\n      const newFavorite = {\n        id,\n        type: typeOfRecipe,\n        nationality: recipeDetails[0].strArea || '',\n        category: recipeDetails[0].strCategory || '',\n        alcoholicOrNot: recipeDetails[0].strAlcoholic || '',\n        name: recipeDetails[0].strMeal || recipeDetails[0].strDrink,\n        image: recipeDetails[0].strMealThumb || recipeDetails[0].strDrinkThumb\n      };\n      const newFavorites = [...favoriteRecipes, newFavorite];\n      localStorage.setItem('favoriteRecipes', JSON.stringify(newFavorites));\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"main\", {\n    className: \"main-header-recipe\",\n    children: [recipeDetails[0] && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ml-8 md:ml-16\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"p-header-recipe\",\n        children: recipeDetails[0].strCategory\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleShare,\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: shareIcon,\n          alt: \"share\",\n          \"data-testid\": \"share-btn\",\n          className: \"w-7 md:w-9\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleFavorite,\n        className: \"mr-8 md:mr-16 ml-3\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: isFavorite ? blackHeartIcon : whiteHeartIcon,\n          alt: isFavorite ? 'liked' : 'like',\n          \"data-testid\": \"favorite-btn\",\n          className: \"w-7 md:w-9\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 5\n  }, this);\n}\n_s(HeaderRecipe, \"Kw42PrRKow0a6DlhxO0LSO8OIqE=\", false, function () {\n  return [useDispatch, useParams, useLocation, useSelector, useSelector];\n});\n_c = HeaderRecipe;\nexport default HeaderRecipe;\nvar _c;\n$RefreshReg$(_c, \"HeaderRecipe\");","map":{"version":3,"names":["React","useEffect","useState","useLocation","useParams","copy","useDispatch","useSelector","shareIcon","whiteHeartIcon","blackHeartIcon","setShareTextStatus","HeaderRecipe","dispatch","id","location","currentPath","pathname","recipeDetails","state","recipeDetailsReducer","typeOfRecipe","match","replace","localStorageFavorites","localStorage","getItem","favoriteRecipes","JSON","parse","shareTextStatus","isFavorite","setIsFavorite","some","favorite","timer","displayTime","setInterval","clearInterval","handleShare","url","window","href","handleFavorite","filterFavorite","filter","setItem","stringify","newFavorite","type","nationality","strArea","category","strCategory","alcoholicOrNot","strAlcoholic","name","strMeal","strDrink","image","strMealThumb","strDrinkThumb","newFavorites"],"sources":["/home/fernando/trybe/Git Fernando/chefsmenu/src/components/HeaderRecipe.js"],"sourcesContent":["/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useEffect, useState } from 'react';\nimport { useLocation, useParams } from 'react-router-dom/cjs/react-router-dom.min';\nimport copy from 'clipboard-copy';\n\nimport { useDispatch, useSelector } from 'react-redux';\nimport shareIcon from '../images/shareIcon.svg';\nimport whiteHeartIcon from '../images/whiteHeartIcon.svg';\nimport blackHeartIcon from '../images/blackHeartIcon.svg';\nimport { setShareTextStatus } from '../redux/actions';\n\nfunction HeaderRecipe() {\n  const dispatch = useDispatch();\n  const { id } = useParams();\n  const location = useLocation();\n  const currentPath = location.pathname;\n  const recipeDetails = useSelector((state) => state.recipeDetailsReducer.recipeDetails);\n  const typeOfRecipe = currentPath.match(/\\/([^/]+)/)[1].replace(/s$/, '');\n  const localStorageFavorites = localStorage.getItem('favoriteRecipes');\n  const favoriteRecipes = localStorageFavorites ? JSON.parse(localStorageFavorites) : [];\n  const shareTextStatus = useSelector(\n    (state) => state.recipeDetailsReducer.shareTextStatus,\n  );\n  const [isFavorite, setIsFavorite] = useState(favoriteRecipes.some((\n    favorite,\n  ) => favorite.id === id));\n\n  useEffect(() => {\n    let timer;\n\n    const displayTime = 5000;\n    if (shareTextStatus) {\n      timer = setInterval(() => {\n        dispatch(setShareTextStatus(false));\n      }, displayTime);\n    }\n\n    return () => {\n      clearInterval(timer);\n    };\n  }, [shareTextStatus]);\n\n  const handleShare = () => {\n    const url = window.location.href;\n    copy(url);\n    dispatch(setShareTextStatus(true));\n  };\n\n  const handleFavorite = () => {\n    if (isFavorite) {\n      setIsFavorite(false);\n      const filterFavorite = favoriteRecipes.filter((favorite) => favorite.id !== id);\n      localStorage.setItem('favoriteRecipes', JSON.stringify(filterFavorite));\n    } else {\n      setIsFavorite(true);\n      const newFavorite = {\n        id,\n        type: typeOfRecipe,\n        nationality: recipeDetails[0].strArea || '',\n        category: recipeDetails[0].strCategory || '',\n        alcoholicOrNot: recipeDetails[0].strAlcoholic || '',\n        name: recipeDetails[0].strMeal || recipeDetails[0].strDrink,\n        image: recipeDetails[0].strMealThumb || recipeDetails[0].strDrinkThumb,\n      };\n      const newFavorites = [...favoriteRecipes, newFavorite];\n      localStorage.setItem('favoriteRecipes', JSON.stringify(newFavorites));\n    }\n  };\n\n  return (\n    <main className=\"main-header-recipe\">\n      { recipeDetails[0]\n      && (\n        <div className=\"ml-8 md:ml-16\">\n          <p\n            className=\"p-header-recipe\"\n          >\n            { recipeDetails[0].strCategory }\n          </p>\n        </div>\n      )}\n      <div>\n        <button onClick={ handleShare }>\n          <img\n            src={ shareIcon }\n            alt=\"share\"\n            data-testid=\"share-btn\"\n            className=\"w-7 md:w-9\"\n          />\n        </button>\n        <button\n          onClick={ handleFavorite }\n          className=\"mr-8 md:mr-16 ml-3\"\n        >\n          <img\n            src={ isFavorite ? blackHeartIcon : whiteHeartIcon }\n            alt={ isFavorite ? 'liked' : 'like' }\n            data-testid=\"favorite-btn\"\n            className=\"w-7 md:w-9\"\n          />\n        </button>\n      </div>\n    </main>\n  );\n}\n\nexport default HeaderRecipe;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}